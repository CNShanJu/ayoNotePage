# è·¯ç”±

[toc]

## 1.è®¤è¯†è·¯ç”±

ğŸš©**vue-router:** `vue`çš„ä¸€ä¸ªæ’ä»¶åº“ï¼Œä¸“é—¨ç”¨æ¥å®ç°SPAåº”ç”¨

ğŸš©**SPAåº”ç”¨ï¼š**

- `å•é¡µ`Webåº”ç”¨
- æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªå®Œæ•´çš„é¡µé¢
- ç‚¹å‡»é¡µé¢ä¸­çš„å¯¼èˆª`é“¾æ¥ä¸ä¼šåˆ·æ–°`é¡µé¢ï¼Œåªä¼šåœ¨é¡µé¢`å±€éƒ¨æ›´æ–°`
- `æ•°æ®`éœ€è¦é€šè¿‡`ajax`è¯·æ±‚è·å–

ğŸš©**ä»€ä¹ˆæ˜¯è·¯ç”±ï¼Ÿ**

1. è·¯ç”±å°±æ˜¯`ä¸€ç»„æ˜ å°„å…³ç³»`ï¼Œæ ¹æ®ä¸åŒçš„ `url `åœ°å€å±•ç¤ºä¸åŒçš„`å†…å®¹æˆ–é¡µé¢`ï¼ˆkey-valueï¼‰ï¼›
2. `keyä¸ºè·¯å¾„`ï¼Œ`value`å¯èƒ½æ˜¯`function`(å‡½æ•°)æˆ–`component`ï¼ˆç»„ä»¶ï¼‰

### è·¯ç”±çš„åˆ†ç±»

#### åç«¯è·¯ç”±

**ç†è§£ï¼š** `value`æ˜¯`function`ï¼Œç”¨äº`å¤„ç†å®¢æˆ·æäº¤çš„è¯·æ±‚`

**å·¥ä½œè¿‡ç¨‹ï¼š** æµè§ˆå™¨åœ¨åœ°å€æ åˆ‡æ¢`url`æ—¶ï¼Œä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨å“åº”åï¼Œä¼šæ ¹æ®è¯·æ±‚è·¯å¾„æ‰¾åˆ°åŒ¹é…çš„å‡½æ•°æ¥å¤„ç†è¯·æ±‚ï¼Œè¿”å›å“åº”æ•°æ®ï¼ˆé¡µé¢ï¼‰ã€‚

**ä¼˜ç‚¹ï¼š** åˆ†æ‹…äº†å‰ç«¯çš„å‹åŠ›ï¼Œhtmlå’Œæ•°æ®çš„æ‹¼æ¥éƒ½æ˜¯ç”±æœåŠ¡å™¨å®Œæˆã€‚

**ç¼ºç‚¹ï¼š** æµè§ˆå™¨ä¼š`åˆ·æ–°`é¡µé¢ï¼Œä¸”`å‰åç«¯ä¸åˆ†ç¦»`ï¼Œå½“é¡¹ç›®ååˆ†åºå¤§æ—¶ï¼ŒåŠ å¤§äº†æœåŠ¡å™¨ç«¯çš„å‹åŠ›ï¼ŒåŒæ—¶åœ¨æµè§ˆå™¨ç«¯ä¸èƒ½è¾“å…¥åˆ¶å®šçš„`url`è·¯å¾„è¿›è¡ŒæŒ‡å®šæ¨¡å—çš„è®¿é—®ã€‚å¦å¤–ä¸€ä¸ªå°±æ˜¯å¦‚æœå½“å‰ç½‘é€Ÿè¿‡æ…¢ï¼Œé‚£å°†ä¼šå»¶è¿Ÿé¡µé¢çš„åŠ è½½ï¼Œå¯¹ç”¨æˆ·ä½“éªŒä¸æ˜¯å¾ˆå‹å¥½ã€‚

#### å‰ç«¯è·¯ç”±

**ç†è§£ï¼š** `value`æ˜¯`component`ï¼Œç”¨äº`å±•ç¤ºé¡µé¢å†…å®¹`

**å·¥ä½œè¿‡ç¨‹ï¼š** å½“æµè§ˆå™¨çš„`è·¯å¾„`æ”¹å˜æ—¶ï¼Œå¯¹åº”çš„`ç»„ä»¶`å°±ä¼šæ˜¾ç¤º

**ä¼˜ç‚¹:**

1. ç”¨æˆ·ä½“éªŒå¥½ï¼Œå’Œåå°ç½‘é€Ÿæ²¡æœ‰å…³ç³»ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½ä»æœåŠ¡å™¨å…¨éƒ¨è·å–ï¼Œå¿«é€Ÿå±•ç°ç»™ç”¨æˆ·
2. å¯ä»¥å†æµè§ˆå™¨ä¸­è¾“å…¥æŒ‡å®šæƒ³è¦è®¿é—®çš„urlè·¯å¾„åœ°å€
3. å®ç°äº†å‰åç«¯çš„åˆ†ç¦»ï¼Œæ–¹ä¾¿å¼€å‘ã€‚æœ‰å¾ˆå¤šæ¡†æ¶éƒ½å¸¦æœ‰è·¯ç”±åŠŸèƒ½æ¨¡å—ã€‚

**ç¼ºç‚¹:**

1. ä½¿ç”¨æµè§ˆå™¨çš„å‰è¿›ï¼Œåé€€é”®çš„æ—¶å€™ä¼šé‡æ–°å‘é€è¯·æ±‚ï¼Œæ²¡æœ‰åˆç†åœ°åˆ©ç”¨ç¼“å­˜
2. å•é¡µé¢æ— æ³•è®°ä½ä¹‹å‰æ»šåŠ¨çš„ä½ç½®ï¼Œæ— æ³•åœ¨å‰è¿›ã€åé€€çš„æ—¶å€™è®°ä½æ»šåŠ¨çš„ä½ç½®

## 2.åŸºæœ¬è·¯ç”±

**ç†è§£ï¼š** `ä¸€ä¸ªè·¯ç”±`ï¼ˆrouteï¼‰å°±æ˜¯`ä¸€ç»„æ˜ å°„å…³ç³»`ï¼ˆkey-valueï¼‰,`å¤šä¸ªè·¯ç”±`éœ€è¦`è·¯ç”±å™¨(router)`è¿›è¡Œç®¡ç†ã€‚

**å‰ç«¯è·¯ç”±ï¼š** keyæ˜¯`è·¯å¾„`ï¼Œvalueæ˜¯`ç»„ä»¶`

### ä½¿ç”¨æ–¹æ³•ï¼š

1. å®‰è£…`vue-router`,æ‰§è¡Œå‘½ä»¤ï¼š`npm i vue-router`æˆ–è€…`npm install vue-router --save`

   > **æŠ¥é”™ï¼š**![image-20220314174215633](6_%E8%B7%AF%E7%94%B1/image-20220314174215633.png)
   >
   > **è§£å†³ï¼š**
   >
   > npmç‰ˆæœ¬é—®é¢˜ï¼Œæ–°ç‰ˆæœ¬å¯¹ä¸‹è½½è¦æ±‚æ¯”è¾ƒä¸¥æ ¼ã€‚ä¸‹è½½ç»„ä»¶çš„æ—¶å€™éœ€è¦è·Ÿä¸Šè·¯ç”±çš„ç‰ˆæœ¬å·
   >
   > `npm install vue-router@3.1.6 --save`

2. åœ¨vueå`å¼•å…¥`ï¼š`import VueRouter from 'vue-router'`

3. `ä½¿ç”¨`æ’ä»¶ï¼š`Vue.use(VueRouter)`

4. ç¼–å†™`routeré…ç½®é¡¹`ï¼š

```js
//å¼•å…¥VueRouter
import VueRouter from 'vue-router'
//ä½¿ç”¨æ’ä»¶
Vue.use(VueRouter);
//å¼•å…¥éœ€è¦è·¯ç”±çš„ç»„ä»¶
import About from '../components/About'
import Home from '../components/Home'
//åˆ›å»ºrouterå®ä¾‹å¯¹è±¡ï¼Œç”¨æ¥ç®¡ç†æ¯ç»„å¯¹åº”çš„è·¯ç”±è§„åˆ™
const router = new VueRouter({
 Â  Â routes:[				//routesä¸ºå›ºå®šå˜é‡åï¼Œå¯¹åº”ä¸€ä¸ªæ•°ç»„å¯¹è±¡
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â path:'/about',  //è·¯ç”±çš„æ˜ å°„è·¯å¾„ï¼Œè‡ªå®šä¹‰ï¼Œå‰ç¼€åŠ æ–œæ 
 Â  Â  Â  Â  Â  Â component:About //è·¯ç”±å®é™…çš„è·¯å¾„ï¼Œå¯¹åº”å¼•å…¥çš„ç»„ä»¶
 Â  Â  Â   },
 Â  Â  Â   {
 Â  Â  Â  Â  Â  Â path:'/home',
 Â  Â  Â  Â  Â  Â component:Home
 Â  Â  Â   }
 Â   ]
})
```

**ğŸš©æ³¨æ„:**

1. è·¯ç”±ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨`pages`æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬çš„ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨`components`æ–‡ä»¶å¤¹
2. é€šè¿‡åˆ‡æ¢ï¼Œâ€éšè—â€œäº†çš„è·¯ç”±ç»„ä»¶ï¼Œé»˜è®¤æ˜¯è¢«é”€æ¯æ‰çš„ï¼Œéœ€è¦çš„æ—¶å€™åœ¨å»æŒ‚è½½
3. æ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±çš„`$route`å±æ€§ï¼Œé‡Œé¢å­˜å‚¨ç€è‡ªå·±çš„è·¯ç”±ä¿¡æ¯
4. æ•´ä¸ªåº”ç”¨`åªæœ‰ä¸€ä¸ªrouter`,å¯ä»¥é€šè¿‡ç»„ä»¶çš„`$router`å±æ€§è·å–åˆ°

### ğŸš©å®Œæ•´å®ä¾‹ï¼š

#### ğŸš©1. å®‰è£…è·¯ç”±

`å‘½ä»¤è¡Œ`æ‰§è¡Œ

```cmd
npm install vue-router
```

æ¥å®‰è£…`vue-router`æ¨¡å—åˆ°`é¡¹ç›®ç›®å½•`ä¸‹ã€‚ å»ºè®®ä½¿ç”¨æ·˜å®é•œåƒçš„cnpmå‘½ä»¤

`main.js`æ–‡ä»¶æ·»åŠ ï¼š

```js
import Vue from 'vue'
import VueRouter from 'vue-router'
 
Vue.use(VueRouter)
```

é€šè¿‡ `Vue.use()` æ˜ç¡®åœ°å®‰è£…è·¯ç”±åŠŸèƒ½ 

#### ğŸš©2. åˆ›å»ºç»„ä»¶

åœ¨`src`æ–‡ä»¶å¤¹ä¸‹å»ºç«‹`components`ç»„ä»¶æ–‡ä»¶å¤¹ï¼Œå»ºç«‹`Comtent.vue`ç»„ä»¶

```vue
<template>
  <h1>å†…å®¹é¡µ</h1>
</template>
 
<script>
    export default {
        name: "Content"
    }
</script>
 
<style scoped> /* scopedè¡¨ç¤ºè¯¥vueçš„æ ·å¼åªå¯¹å½“å‰é¡µé¢ç”Ÿæ•ˆ */
 
</style>
```

#### ğŸš©3. é…ç½®è·¯ç”±

åˆ›å»º`src/router`ç›®å½•ï¼Œå¹¶åœ¨è¯¥ç›®å½•ä¸‹åˆ›å»º**`index.js`**çš„`è·¯ç”±é…ç½®æ–‡ä»¶`ï¼Œ**ç”¨äºè·¯ç”±é¡µé¢çš„è·³è½¬é…ç½®**ï¼Œå†…å®¹å¦‚ä¸‹

```js
import Vue from 'vue'
import VueRouter from 'vue-router'

//å¯¼å…¥è‡ªå®šä¹‰ç»„ä»¶
import Content from '../components/Content'

//å®‰è£…è·¯ç”±ï¼Œæ˜¾ç¤ºå¼•ç”¨
Vue.use(VueRouter);   //ç›¸å½“äºå£°æ˜ä½¿ç”¨è¿™ä¸ªç»„ä»¶
 
//é…ç½®å¯¼å‡ºè·¯ç”±
export default new VueRouter({
  routes:[
    {
      //è·¯ç”±è·¯å¾„
      path:'/content',
      //è‡ªå®šä¹‰è·¯ç”±åç§°
      name:'content',
      //è·¯ç”±è·³è½¬çš„ç»„ä»¶
      component:Content
    }
  ]
});
```

####  ğŸš©4. å¼€å¯è·¯ç”±

åœ¨`main.js`ä¸­**å¯¼å…¥è‡ªå®šä¹‰è·¯ç”±é…ç½®å¹¶å¼€å¯**, ç°åœ¨`main.js`æ–‡ä»¶æ˜¯è¿™æ ·äº†ï¼š

```js
import Vue from 'vue'
import App from './App'
import router from './router'//å¯¼å…¥è‡ªå®šä¹‰è·¯ç”±é…ç½®
 
Vue.config.productionTip = false
 
new Vue({
  el: '#app',
  //é…ç½®è·¯ç”±
  router,
  components: { App },
  template: '<App/>'
})
```

####  ğŸš©5. ä½¿ç”¨è·¯ç”± 

åœ¨`App.vue`ä¸­é…ç½®å¹¶æµ‹è¯•è·¯ç”±

ä¸»è¦åˆ©ç”¨`<router-link to="/è·¯ç”±é…ç½®ä¸­çš„path">XX</router-link>`

```vue
<template>
  <div id="app">
    <router-link to="/content">å†…å®¹é¡µ</router-link>
    <!-- router-viewæ ‡ç­¾ä¸ºè·¯ç”±æ˜¾ç¤ºå®¹å™¨ -->
    <router-view></router-view>  
  </div>
</template>
 
<script>
 
export default {
  name: 'App'
}
</script>
 
<style>
</style>
```

## 3.å¤šçº§è·¯ç”±

**1.é…ç½®è·¯ç”±è§„åˆ™ï¼Œä½¿ç”¨`children`é…ç½®é¡¹ï¼š**

```js
routes:[
    {
        path:'/about',
        component:About,
    },
    {
        path:'/home',
        component:Home,
        redirect:"/home/news",	//é‡å®šå‘ï¼Œå³å½“ç‚¹å¼€å½“å‰è·¯å¾„é»˜è®¤å±•ç¤ºçš„å­è·¯ç”±è·¯å¾„
        children:[//é€šè¿‡childrené…ç½®å­çº§è·¯ç”±
            {
                path:'news',//æ³¨æ„ä¸è¦åœ¨newså‰åŠ /
                componentï¼šNews
            },
            {
                path:'message',
                component:Message
            }
        ]
    }
]
```

**2.è·³è½¬**ï¼ˆè¦å†™å®Œæ•´è·¯å¾„ï¼‰

```vue
<router-link to="/home/news">è·³è½¬åˆ°Newsç»„ä»¶</router-link>
```

## 4.è·¯ç”±çš„queryå‚æ•°(è·¯ç”±ä¼ å‚)

### **1.ä¼ é€’å‚æ•°**

```vue
//è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼Œtoçš„å­—ç¬¦ä¸²å†™æ³•
<router-link :to="/home/message/detail?id=666&title=ä½ å¥½">è·³è½¬</router-link>

//è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼Œtoçš„å¯¹è±¡å†™æ³•
<router-link
    :to="{
        path:'/home/message/detail',
        query:{
            id:666,
            title:'ä½ å¥½'
        }
    }"
>è·³è½¬</router-link>

//åˆ©ç”¨pushæ–¹æ³•
this.$router.push({
	 path:'/home/message/detail',
        query:{
            id:666,
            title:'ä½ å¥½'
        }
})
```

### **2.æ¥æ”¶å‚æ•°**

```vue
$route.query.id
$route.query.title
```



### ğŸš©`$router`å’Œ`$route`çš„åŒºåˆ«ï¼Ÿ

#### `$router`

`$router` :æ˜¯ `VueRouter`çš„ä¸€ä¸ªå¯¹è±¡ï¼Œé€šè¿‡`Vue.use(VueRouter)`å’Œ`VueRouter`[æ„é€ å‡½æ•°](https://so.csdn.net/so/search?q=æ„é€ å‡½æ•°&spm=1001.2101.3001.7020)å¾—åˆ°ä¸€ä¸ª`router`çš„`å®ä¾‹å¯¹è±¡`ï¼Œæ˜¯ä¸€ä¸ª`å…¨å±€å¯¹è±¡`ï¼Œä»–åŒ…å«äº†`æ‰€æœ‰çš„è·¯ç”±`ã€åŒ…å«äº†è®¸å¤šå…³é”®çš„å¯¹è±¡å’Œå±æ€§ï¼›

##### **ä¸¾ä¾‹ï¼š**

###### **historyå¯¹è±¡**:

```vue
$router.push({path:'home'});
//æœ¬è´¨æ˜¯å‘historyæ ˆä¸­æ·»åŠ ä¸€ä¸ªè·¯ç”±ï¼Œåœ¨æˆ‘ä»¬çœ‹æ¥æ˜¯ åˆ‡æ¢è·¯ç”±ï¼Œä½†æœ¬è´¨æ˜¯åœ¨æ·»åŠ ä¸€ä¸ªhistoryè®°å½•
```

**æ–¹æ³•ï¼š**

```vue
$router.replace({path:'home'});
//æ›¿æ¢è·¯ç”±ï¼Œæ²¡æœ‰å†å²è®°å½•
```

#### $route

`$route`æ˜¯ä¸€ä¸ª`è·³è½¬çš„è·¯ç”±å¯¹è±¡`(å³å½“å‰è·¯ç”±å¯¹è±¡)ï¼Œæ¯ä¸€ä¸ªè·¯ç”±éƒ½ä¼šæœ‰ä¸€ä¸ª`routeå¯¹è±¡`ï¼Œæ˜¯ä¸€ä¸ª`å±€éƒ¨çš„å¯¹è±¡`ï¼Œå¯ä»¥è·å–å¯¹åº”çš„`name`,`path`,`params`,`query`ç­‰
æˆ‘ä»¬å¯ä»¥ä»vue devtoolsä¸­çœ‹åˆ°æ¯ä¸ªè·¯ç”±å¯¹è±¡çš„ä¸åŒ

![](6_%E8%B7%AF%E7%94%B1/20191117233133964.png)

#### å¸¸ç”¨ä¾‹å­ï¼š

`$router`æ“ä½œ `è·¯ç”±è·³è½¬`

```vue
this.$router.push({ name:'hello', params:{ name:'word', age:'11' } })
```

`$route`è¯»å– `è·¯ç”±å‚æ•°æ¥æ”¶`

```vue
var name = this.$route.params.name;
```



## 5.å‘½åè·¯ç”±

**1.ä½œç”¨**ï¼šå¯ä»¥ç®€åŒ–è·¯ç”±çš„è·³è½¬

### **2.ä½¿ç”¨æ–¹å¼**ï¼š

#### **ï¼ˆ1ï¼‰ç»™è·¯ç”±å‘½å**

```js
{
    path:'/demo',
    component:Demo,
    children:[
            {
            path:'test',
            component:Test,
            children:[
                {
                    name:'hello',//ç»™è·¯ç”±å‘½å
                    pathï¼š'welcome',
                    component:Hello,
                }
             ]       
        }
    ]
}
```

#### **ï¼ˆ2ï¼‰ç®€åŒ–è·³è½¬**

```js
//ç®€åŒ–å‰ï¼Œéœ€è¦å†™å®Œæ•´çš„è·¯å¾„
<router-link to="/demo/test/welcome">è·³è½¬</router-link>

//ç®€åŒ–åï¼Œç›´æ¥é€šè¿‡åå­—è·³è½¬
<router-link :to="{name:'hello'}">è·³è½¬</router-link>

//ç®€åŒ–å†™æ³•é…åˆä¼ é€’å‚æ•°
<router-link
    :to="{
        name:"hello",
        query:{
            id:666,
            title:'ä½ å¥½'
        }
    }"
>è·³è½¬</router-link>
```

## 6.è·¯ç”±çš„paramså‚æ•°(è·¯ç”±ä¼ å‚)

### **1.é…ç½®è·¯ç”±**

**å£°æ˜æ¥æ”¶`params`å‚æ•°(ä»¥`Detail`ç»„ä»¶ä¸ºä¾‹)**

```js
{
    path:'/home',
    cpmponent:Home,
    children:[
        {
            path:'news',
            component:News
        },
        {   
            path:'message'
            components:Message,
            children:[
                {
                    name:'xuexi',
                    path:'detail/:id/:title',//:xxxæ˜¯å ä½ç¬¦ï¼Œç”¨æ¥å£°æ˜æ¥æ”¶paramså‚æ•°
                    component:Detail
                }
            ]
        }
    ]
}
```

### **2.ä¼ é€’å‚æ•°**

ğŸš©è·¯ç”±æºå¸¦`params`å‚æ•°æ—¶ï¼Œè‹¥ä½¿ç”¨`to`çš„**å¯¹è±¡å†™æ³•**ï¼Œåˆ™**ä¸èƒ½ä½¿ç”¨`path`é…ç½®é¡¹**ï¼Œå¿…é¡»ä½¿ç”¨`name`é…ç½®

```js
//Message.vue
//è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼Œtoçš„å­—ç¬¦ä¸²å†™æ³•
<router-link :to="/home/message/detail/666/ä½ å¥½">è·³è½¬</router-link>

//è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼Œtoçš„å¯¹è±¡å†™æ³•
<router-link
    :to="{
        name:'xuexi',
        params:{
            id:666,
            title:'ä½ å¥½'
        }
    }"
>è·³è½¬</router-link>
```

### **3.æ¥æ”¶å‚æ•°**

```vue
//Detail.vue
<template>
    <ul>
        <li>æ¶ˆæ¯ç¼–å·ï¼š{{$route.params.id}}</li>
        <li>æ¶ˆæ¯æ ‡é¢˜ï¼š{{$route.params.title}}</li>
    </ul>
</template>
<script>
    export default{
        name:'Detail',
    }
</script>
```



## 7.è·¯ç”±çš„`props`é…ç½®

**ä½œç”¨ï¼š**è®©è·¯ç”±ç»„ä»¶æ›´æ–¹ä¾¿çš„æ”¶åˆ°å‚æ•°

**ä½¿ç”¨åœºæ™¯ï¼š**

è·¯ç”±ç»„ä»¶è¯»å–å‚æ•°æ—¶å¤ªéº»çƒ¦

![35.png](6_%E8%B7%AF%E7%94%B1/230ae4e269af4d698b833570aa7f68f8tplv-k3u1fbpfcp-zoom-in-crop-mark1304000.awebp)

**è§£å†³æ–¹æ³•ï¼š**åœ¨è·¯ç”±çš„`é…ç½®æ–‡ä»¶`ä¸­æ‰¾åˆ°`éœ€è¦æ¥æ”¶å‚æ•°`çš„`è·¯ç”±ç»„ä»¶`ï¼Œä¸ºå…¶å¢åŠ `props`é…ç½®é¡¹

### **ç¬¬ä¸€ç§å†™æ³•ï¼š** `props`**å€¼ä¸º`å¯¹è±¡`**

è¯¥å¯¹è±¡ä¸­æ‰€æœ‰çš„`key-value`çš„ç»„åˆæœ€ç»ˆéƒ½ä¼šé€šè¿‡`props`ä¼ ç»™`Detail`ç»„ä»¶

```js
//index.js
{
    name:'xuexi',
 Â  Â path:'detail/:id',
 Â  Â component:Detail,
 Â  Â //ä¸å¸¸ç”¨ï¼Œå› ä¸ºæ•°æ®æ˜¯å†™æ­»çš„
 Â  Â props:{aï¼š900} Â  Â 
}

```

```vue
//Detail.vue
<template>
 Â  Â <div>è¯»å–a{{a}}</div>
</template>

<script>
 Â  Â export default{
        name:'Detail',
 Â  Â  Â  Â props:['a'],
    }
</script>

```

### **ç¬¬äºŒç§å†™æ³•ï¼š** `props`**å€¼ä¸º`å¸ƒå°”å€¼`**

å¸ƒå°”å€¼ä¸º`true`ï¼Œåˆ™æŠŠè·¯ç”±`æ”¶åˆ°`çš„`æ‰€æœ‰params`å‚æ•°é€šè¿‡`props`ä¼ ç»™`Detail`ç»„ä»¶

```js
//index.js
{
    name:'xuexi',
 Â  Â path:'detail/:id',
 Â  Â component:Detail,
 Â  Â //ä¸æ¨èï¼Œåªèƒ½æ¥æ”¶paramså‚æ•°
 Â  Â props:true,
}

```

```vue
//Detail.vue
<template>
 Â  Â <ul>
 Â       <li>æ¶ˆæ¯ç¼–å·ï¼š{{id}}</li>
        <li>æ¶ˆæ¯æ ‡é¢˜ï¼š{{title}}</li>
 Â  Â </ul>
</template>
<script>
 Â  Â export default{
        name:'Detail',
 Â  Â  Â  Â props:['id','title'],
    }
</script>

```

### **ç¬¬ä¸‰ç§å†™æ³•ï¼ˆå¸¸ç”¨ï¼‰ï¼š** `props`**å€¼ä¸º`å‡½æ•°`**

è¯¥`å‡½æ•°`è¿”å›çš„`å¯¹è±¡`ä¸­æ¯ä¸€ç»„`key-value`éƒ½ä¼šé€šè¿‡`props`ä¼ ç»™`Detail`ç»„ä»¶

```js
//index.js
{
    name:'xuexi',
 Â  Â path:'detail/:id',
 Â  Â component:Detail,
 Â  Â props($route){
 Â  Â  Â  Â return{
 Â  Â  Â  Â  Â  Â id:$route.query.id,
 Â  Â  Â  Â  Â  Â title:$route.query.title
 Â  Â  Â   }
 Â   }
}

```

```vue
//Detail.vue
<template>
 Â  Â <ul>
 Â       <li>æ¶ˆæ¯ç¼–å·ï¼š{{id}}</li>
        <li>æ¶ˆæ¯æ ‡é¢˜ï¼š{{title}}</li>
 Â  Â </ul>
</template>
<script>
 Â  Â export default{
        name:'Detail',
 Â  Â  Â  Â props:['id','title'],
    }
</script>

```

## 8.`<router-link>`çš„replaceå±æ€§

**1.ä½œç”¨ï¼š**æ§åˆ¶è·¯ç”±è·³è½¬æ—¶æ“ä½œæµè§ˆå™¨å†å²è®°å½•çš„æ¨¡å¼

**2.æµè§ˆå™¨çš„å†å²çºªå½•æœ‰ä¸¤ç§å†™å…¥æ–¹å¼ï¼š**åˆ†åˆ«ä¸º`push`å’Œ`replace`

- `push`æ˜¯è¿½åŠ å†å²è®°å½•ï¼ˆè·¯ç”±è·³è½¬æ—¶é»˜è®¤ä¸º`push`ï¼‰
- `replace`æ˜¯æ›¿æ¢å½“å‰è®°å½•

**3.å¼€å¯`replace`æ¨¡å¼ï¼š**`<router-link replace...>News</router-link>`

## 9.ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª

**1.ä½œç”¨ï¼š**ä¸å€ŸåŠ©`<router-link>`å®ç°è·¯ç”±è·³è½¬ï¼Œè®©è·¯ç”±è·³è½¬æ›´åŠ çµæ´»

**2.ä½¿ç”¨æ–¹æ³•ï¼š**

```js
//$routerçš„å‡ ä¸ªAPI
this.$router.push({
    name:'xuexi',
    params:{
        id:xxx,
        title:xxx,
    }
})
this.$router.replace({
    name:'xuexi',
    params:{
        id:xxx,
        title:xxx,
    }
})
this.$router.forward()//å‰è¿›
this.$router.back()//åé€€
this.$router.go()//å¯å‰è¿›ä¹Ÿå¯åé€€
```

## 10.ç¼“å­˜è·¯ç”±ç»„ä»¶

**1.ä½œç”¨ï¼š**è®©ä¸å±•ç¤ºçš„è·¯ç”±ç»„ä»¶ä¿æŒæŒ‚è½½ï¼Œä¸è¢«é”€æ¯

**2.ä½¿ç”¨æ–¹æ³•ï¼š**

**ç¼“å­˜ä¸€ä¸ªè·¯ç”±ç»„ä»¶**

```vue
//include ="è¦ç¼“å­˜çš„ç»„ä»¶å"
<keep-alive include="News">
   <router-view></router-view>
</keep-alive>
```

**ç¼“å­˜å¤šä¸ªè·¯ç”±ç»„ä»¶**

```vue
<keep-alive :include="['News','Message']"></keep-alive>
```

## 11.ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­

**ä½œç”¨ï¼š**`è·¯ç”±ç»„ä»¶`æ‰€`ç‹¬æœ‰`çš„ä¸¤ä¸ªé’©å­ï¼Œç”¨äºæ•è·è·¯ç”±ç»„ä»¶çš„`æ¿€æ´»çŠ¶æ€`

- `activated`è·¯ç”±ç»„ä»¶`è¢«æ¿€æ´»`æ—¶è§¦å‘
- `deactivated`è·¯ç”±ç»„ä»¶`å¤±æ´»`æ—¶è§¦å‘

## 12.è·¯ç”±å®ˆå«

**1.ä½œç”¨**ï¼šå¯¹è·¯ç”±è¿›è¡Œ`é™æƒæ§åˆ¶`

**2.åˆ†ç±»**ï¼š`å…¨å±€å®ˆå«`ã€`ç‹¬äº«å®ˆå«`ã€`ç»„ä»¶å†…å®ˆå«`

### 3.ä½¿ç”¨æ–¹æ³•

#### å…¨å±€å®ˆå«

**å‰ç½®å®ˆå«**

```js
//å…¨å±€å‰ç½®å®ˆå«ï¼Œåˆå§‹åŒ–æ—¶æ‰§è¡Œï¼Œæ¯æ¬¡è·¯ç”±åˆ‡æ¢å‰æ‰§è¡Œ
router.beforeEach((to,from,next)=>{
    console.log('beforeEach',to,from)
    if(to.meta.isAuth){//åˆ¤æ–­å½“å‰è·¯ç”±æ˜¯å¦éœ€è¦è¿›è¡Œé™æƒæ§åˆ¶
        if(localStorage.getItem('school')==='haoyue'){//é™æƒæ§åˆ¶å…·ä½“è§„åˆ™
            next()//æ”¾è¡Œ
        }else{
            alert('æ²¡æœ‰è®¿é—®é™æƒ')
        }  
    }else{
        next()//æ”¾è¡Œ
    }
})
```

**åç½®å®ˆå«**

```js
//å…¨å±€åç½®å®ˆå«ï¼Œåˆå§‹åŒ–æ—¶æ‰§è¡Œï¼Œæ¯æ¬¡è·¯ç”±åˆ‡æ¢åæ‰§è¡Œ
router.afterEach((to,from)=>{
    console.log('afterEach',to,from)
    if(to.meta.title){
        document.title = to.meta.title//ä¿®æ”¹ç½‘é¡µçš„title
    }else{
        document.title = 'vue_text'
    }
})
```

#### ç‹¬äº«å®ˆå«

```js
beforeEnter(to,from,next){
    console.log('beforeEnter',to,from)
    if(to.meta.isAuth){//åˆ¤æ–­å½“å‰è·¯ç”±æ˜¯å¦éœ€è¦è¿›è¡Œé™æƒæ§åˆ¶
        if(localStorage.getItem('school')==='haoyue'){//é™æƒæ§åˆ¶å…·ä½“è§„åˆ™
            next()//æ”¾è¡Œ
        }else{
            alert('æ²¡æœ‰è®¿é—®é™æƒ')
        }  
    }else{
        next()
    }
}
```

#### ç»„ä»¶å†…å®ˆå«

```js
//è¿›å…¥å®ˆå«ï¼šé€šè¿‡è·¯ç”±è§„åˆ™ï¼Œè¿›å…¥è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨
beforeRouteEnter(to,from,next){
   ... 
}
//ç¦»å¼€å®ˆå«ï¼šé€šè¿‡è·¯ç”±è§„åˆ™ï¼Œç¦»å¼€è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨
beforeRouteLeave(to,from,next){
   ... 
}
```

## 13.è·¯ç”±å™¨çš„ä¸¤ç§å·¥ä½œæ¨¡å¼

**1.å¯¹äºä¸€ä¸ªurlæ¥è¯´ï¼Œä»€ä¹ˆæ˜¯hashå€¼ï¼Ÿ**

- `#`åŠ`å…¶åé¢`çš„å†…å®¹å°±æ˜¯`hashå€¼`

**2.`hash`å€¼ä¸ä¼šåŒ…å«åœ¨`HTTP`è¯·æ±‚ä¸­ï¼Œå³ï¼š`hashå€¼ä¸ä¼šå¸¦ç»™æœåŠ¡å™¨`**

**3.hashæ¨¡å¼ï¼š**

- åœ°å€ä¸­`æ°¸è¿œ`å¸¦ç€`#`å·ï¼Œä¸ç¾è§‚
- è‹¥ä»¥åå°†åœ°å€é€šè¿‡ç¬¬ä¸‰æ–¹æ‰‹æœºAPPåˆ†äº«ï¼Œè‹¥`APPæ ¡éªŒä¸¥æ ¼`ï¼Œåˆ™`åœ°å€ä¼šè¢«æ ‡è®°ä¸ºä¸åˆæ³•`
- `å…¼å®¹æ€§è¾ƒå¥½`

ï¼”.historyæ¨¡å¼

- åœ°å€å¹²å‡€ï¼Œç¾è§‚
- å…¼å®¹æ€§å’Œhashæ¨¡å¼æ¯”`ç•¥å·®`
- åº”ç”¨`éƒ¨ç½²ä¸Šçº¿`æ—¶éœ€è¦`åç«¯äººå‘˜æ”¯æŒ`ï¼Œè§£å†³`åˆ·æ–°é¡µé¢æœåŠ¡ç«¯404`çš„é—®é¢˜

```js
routes:[
    {
      //è·¯ç”±è·¯å¾„
      path:'/content',
      //è‡ªå®šä¹‰è·¯ç”±åç§°
      name:'content',
      //è·¯ç”±è·³è½¬çš„ç»„ä»¶
      component:Content,
      //è·¯ç”±æ¨¡å¼ï¼Œé»˜è®¤ä¸ºhash
      mode:history,
    }
  ]
```

## 14.è·¯ç”±è·³è½¬äº‹ä»¶

```js
this.$router.push({ name: "user-balance-log" });
//ç¬¬äºŒç§
this.$router.push({path:"wechat/index"});

//ç‚¹å‡»è·³è½¬è‡³ä¸Šæ¬¡æµè§ˆé¡µé¢
// this.$router.go(-1)
```

> ```js
> //è·¯ç”±é‡å¤å¼•ç”¨
> const VueRouterPush = Router.prototype.push
> Router.prototype.push = function push(to) {
>     return VueRouterPush.call(this, to).catch(err => err)
> }
> ```
